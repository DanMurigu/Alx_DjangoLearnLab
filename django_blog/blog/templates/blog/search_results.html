{% extends 'base.html' %}

{% block content %}
<h1>Search results for "{{ query }}"</h1>

{% for post in posts %}
    <div style="border: 1px solid #ccc; padding: 10px; margin-bottom: 15px;">
        <h2><a href="{{ post.get_absolute_url }}">{{ post.title }}</a></h2>
        <p>{{ post.content|truncatechars:150 }}</p>
        <p><small>By {{ post.author.username }} | {{ post.created_at|date:"M d, Y H:i" }}</small></p>
        <p>
            Tags:
            {% for tag in post.tags.all %}
                <a href="{% url 'posts-by-tag' tag.slug %}">{{ tag.name }}</a>{% if not forloop.last %}, {% endif %}
            {% empty %}
                No tags
            {% endfor %}
        </p>
    </div>
{% empty %}
    <p>No posts found matching your query.</p>
{% endfor %}
{% endblock %}
